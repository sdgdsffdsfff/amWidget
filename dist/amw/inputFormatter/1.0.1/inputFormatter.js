window.AW=window.AW||{},function(){"use strict";function t(t,e){function n(t){var e,n,i=0,s=t.length,r=[],u=0;for(""===l[0]&&(u=1,r.push(a[0])),n=0;o>n;n++)if(l[n]){if(e=+l[n]+i,r.push(t.slice(i,e)),e>s)break;r.push(a[n+u]),i=e}return r.join("")}var i=[];if(!e)return t;var l=e.split(/[^\d]+/g),a=e.split(/\d+/g),o=l.length;""===a[0]&&a.shift(),""===a[a.length-1]&&a.pop();var s=new RegExp("(\\"+a.join("|\\")+")","g");t=t.replace(s,"");var r,u=t.length,c=l.reduce(function(t,e){return+t+ +e}),h=Math.ceil(u/c),d=0;for(r=0;h>r;r++)i.push(n(t.slice(d,d+c))),d+=c;return i.join("")}function e(e){e.addEventListener("input",function(e){var n=this.getAttribute("data-format"),i=(this.getAttribute("coord"),this.value),a=t(i,n),o=this.getAttribute("oldval")||"",s=this.selectionStart,r=0;l.indexOf("linux; u")>-1&&a.length>o.length&&s++,l.indexOf("iphone os 6")>-1&&0==s&&s++,a===o&&" "===a.slice(s,s+1)?(i=i.slice(0,s-1>=0?s-1:0)+i.slice(s),a=t(i,n),r=1):" "===a.slice(s-1,s)&&(a.length>o.length?r=-1:a.length<o.length&&(r=1)),this.value=a;var u,c=this;u=l.indexOf("iphone os 6")>-1?function(){var t,e=0;c.selectionEnd+1>=a.length?e=Math.abs(o.length-a.length):(t=a.slice(s).length-o.slice(s).length)>0?(r=0,r=" "===a.slice(s,s+1)?-1:0,e=1):e=Math.abs(o.slice(0,s).length-a.slice(0,s).length),a.replace(/\s/g,"")===o.slice(1).replace(/\s/g,"")&&(r=1),c.selectionStart=s+e-r,c.selectionEnd=c.selectionStart}:function(){c.selectionStart=s+Math.abs(o.slice(0,s).length-a.slice(0,s).length)-r,c.selectionEnd=c.selectionStart},l.indexOf("linux; u")>-1||l.indexOf("iphone os 6")>-1?setTimeout(function(){u()},0):u(),this.setAttribute("oldval",this.value)},!1)}function n(e){e.addEventListener("inputFormatter",function(e){var n=this.value,i=this.getAttribute("data-format");this.value=t(n,i)})}var i={},l=navigator.userAgent.toLowerCase();i.listen=function(i){i&&!i.length&&(i=[i]),i=i||document.querySelectorAll("input[data-format]"),[].forEach.call(i,function(i,l){i[0]&&i[0].addEventListener&&(i=i[0]),i._InputFormatBinded||(i.value&&(i.value=t(i.value,i.getAttribute("data-format"))),i._customKeyboard?n(i):e(i),i._InputFormatBinded=!0)})},"complete"===document.readyState?i.listen():document.addEventListener("DOMContentLoaded",function(t){i.listen()},!1);var a=i;window.AW.inputFormatter=a}();